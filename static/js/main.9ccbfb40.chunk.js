(this["webpackJsonptweets-companero"]=this["webpackJsonptweets-companero"]||[]).push([[0],{39:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(19),a=n(30),r=n.n(a),s=n(9),i=n(3),o=n(0),u=n.n(o),l=n(18),d=n(31),p=Object(d.a)({apiKey:"AIzaSyB0AYIB2bsOkvhmmWGoFZKOJb0dLrjcZlg",authDomain:"proyecto-447b2.firebaseapp.com",projectId:"proyecto-447b2",storageBucket:"proyecto-447b2.appspot.com",messagingSenderId:"57226506320",appId:"1:57226506320:web:7d6de59d685a856679a155",measurementId:"G-WTFG74PJ0N"}),j=n(24),b=Object(l.e)(p),h=Object(j.b)(),O=new j.a,m=function(){return Object(j.c)(h,O)},f=function(){return Object(j.d)(h)};function x(){return(x=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.a)(Object(l.b)(b,"posts"),t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error adding document: ",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function v(){return(v=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.c)(Object(l.d)(b,"posts",t));case 3:return e.abrupt("return",t);case 6:e.prev=6,e.t0=e.catch(0),console.log("Error al borrar el post",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function g(e,t){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(u.a.mark((function e(t,n){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(l.d)(b,"posts",t),e.prev=1,e.next=4,Object(l.g)(c,n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("Error al actualizar el post",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}n(39);var y=n.p+"static/media/corazon.dbb80d69.svg",w=n(10),N={message:"",email:"",uid:"",autor:""};function I(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(N),i=Object(s.a)(r,2),o=i[0],u=i[1],d=Object(c.useState)(null),p=Object(s.a)(d,2),j=p[0],O=p[1];Object(c.useEffect)((function(){var e=Object(l.f)(Object(l.b)(b,"posts"),(function(e){var t=e.docs.map((function(e){return{message:e.data().message,id:e.id,likes:e.data().likes,autor:e.data().autor,email:e.data().email,uid:e.data().uid}}),(function(e){console.log(e,"error de escucha")}));a(t)})),t=h.onAuthStateChanged((function(e){O(e)}));return function(){e(),t()}}),[]);var k=function(e){(function(e){return v.apply(this,arguments)})(e.target.id).then((function(e){var t=n.filter((function(t){return t.id!==e}));a(t)}))};return Object(w.jsxs)("div",{className:"App",children:[j?Object(w.jsxs)("div",{className:"user-profile",children:[Object(w.jsx)("img",{className:"user-profile-pic",src:j.photoURL,alt:""}),Object(w.jsxs)("p",{children:["\xa1Hola ",j.displayName,"!"]}),Object(w.jsx)("button",{onClick:f,children:"Log out"})]}):Object(w.jsx)("button",{className:"login-btn",onClick:m,children:"Login con Google"}),Object(w.jsx)("h1",{children:"Hola Usuarios"}),Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){return x.apply(this,arguments)}(o).then((function(){u(N)}))},children:[Object(w.jsx)("textarea",{rows:"4",cols:"30",className:"itemInput",onChange:function(e){u((function(){return{message:e.target.value,email:j.email,uid:j.uid,autor:j.displayName}}))},type:"text",placeholder:"Message here...",value:o.message}),Object(w.jsx)("br",{}),Object(w.jsx)("button",{children:"Enviar"})]}),Object(w.jsx)("div",{className:"posts",children:n.map((function(e){return Object(w.jsxs)("div",{className:"post",children:[Object(w.jsxs)("div",{className:"userMessage",children:[Object(w.jsx)("h3",{children:e.message}),Object(w.jsx)("p",{children:e.autor}),Object(w.jsx)("p",{children:e.email}),Object(w.jsx)("p",{children:e.uid})]}),Object(w.jsxs)("div",{children:[e.uid===(null===j||void 0===j?void 0:j.uid)?Object(w.jsx)("button",{id:e.id,onClick:k,className:"delete actionBtn",children:"Eliminar"}):null,Object(w.jsxs)("button",{className:"actionBtn",onClick:function(){return function(e){g(e,{likes:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)+1})}(e.id,e.likes)},children:[Object(w.jsx)("img",{height:"13px",src:y,alt:""}),Object(w.jsx)("span",{children:e.likes?e.likes:0})]})]})]},e.id)}))})]})}var S=document.getElementById("root");r.a.render(Object(w.jsx)(c.StrictMode,{children:Object(w.jsx)(I,{})}),S)}},[[41,1,2]]]);
//# sourceMappingURL=main.9ccbfb40.chunk.js.map